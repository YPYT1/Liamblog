"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([["8723"],{1183:function(e,t,n){n.d(t,{Z:()=>U});var o,r=n(1737),i=n(1699),s=n(3897),a=n(5468),c=n(6773);function l(e,t,n,o){return e.addEventListener(t,n,o),function(){return e.removeEventListener(t,n,o)}}function u(e){return"undefined"!=typeof window?(0,c.jsx)(d,Object.assign({},e,{children:e.children})):e.children}var d=function(e){function t(){for(var t,n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).scrollableAncestor=void 0,t.previousPosition=null,t.unsubscribe=void 0,t.innerRef=(0,i.createRef)(),t._handleScroll=function(){var e,n,o,r,i,s,a,c,l,u,d,h,f=t.innerRef.current,p=t.props,g=p.topOffset,v=p.bottomOffset,m=p.onEnter,w=p.onLeave,b=(h=(r=(e={node:f,scrollableAncestor:t.scrollableAncestor,topOffset:g,bottomOffset:v}).node,i=e.scrollableAncestor,s=e.topOffset,a=e.bottomOffset,l=(c=r.getBoundingClientRect()).top,u=c.bottom,i===window?(n=window.innerHeight,o=0):(n=i.offsetHeight,o=i.getBoundingClientRect().top),d=o+n,{top:l,bottom:u,viewportTop:o+s,viewportBottom:d-a})).viewportBottom-h.viewportTop==0?"invisible":h.viewportTop<=h.top&&h.top<=h.viewportBottom||h.viewportTop<=h.bottom&&h.bottom<=h.viewportBottom||h.top<=h.viewportTop&&h.viewportBottom<=h.bottom?"inside":h.viewportBottom<h.top?"below":h.top<h.viewportTop?"above":"invisible",S=t.previousPosition;if(t.previousPosition=b,S!==b){"inside"===b?m():"inside"===S&&w();var y="below"===S&&"above"===b,k="above"===S&&"below"===b;(y||k)&&(m(),w())}},t}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e,t,n=this;this.scrollableAncestor=function(e){for(var t=e;t.parentNode&&(t=t.parentNode)!==document.body;){var n=window.getComputedStyle(t),o=n.getPropertyValue("overflow-y")||n.getPropertyValue("overflow");if("auto"===o||"scroll"===o||"overlay"===o)return t}return window}(this.innerRef.current);var o=l(this.scrollableAncestor,"scroll",this._handleScroll,{passive:!0}),r=l(window,"resize",this._handleScroll,{passive:!0}),i=(e=function(){n._handleScroll()},t=!0,queueMicrotask(function(){t&&e()}),function(){return t=!1});this.unsubscribe=function(){o(),r(),i()}},n.componentDidUpdate=function(){this._handleScroll()},n.componentWillUnmount=function(){var e;null==(e=this.unsubscribe)||e.call(this)},n.render=function(){return i.cloneElement(this.props.children,{innerRef:this.innerRef})},t}(i.Component);d.defaultProps={topOffset:0,bottomOffset:0,onEnter:function(){},onLeave:function(){}};let h=function(){for(var e,t=[],n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];for(var i=0;i<o.length;i++){var s=o[i];if(s instanceof Object)Object.assign(e||(e={}),s);else if(void 0===s||!1===s);else if("string"==typeof s)t.push(s);else throw Error("Unexpected value "+s)}return{className:t.length>1?t.join(" "):t[0],style:e}};var f="loading",p="loaded",g="error",v="load",m="noicon",w="offline",b=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={isMounted:!1},n}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setState({isMounted:!0}),this.props.onDimensions&&this.dimensionElement&&this.props.onDimensions({width:this.dimensionElement.clientWidth||this.dimensionElement.parentNode.clientWidth,height:this.dimensionElement.clientHeight||this.dimensionElement.parentNode.clientHeight})},n.renderIcon=function(e){var t=e.icon,n=e.icons,o=e.iconColor,r=e.iconSize,s=e.theme,a=n[t];if(!a)return null;var c=h({width:r+100,height:r,color:o},s.icon);return i.createElement("div",c,[i.createElement(a,{fill:o,size:r,key:"icon"}),i.createElement("br",{key:"br"}),this.props.message])},n.renderImage=function(e){var t=this;return e.icon===p?(0,c.jsx)("img",Object.assign({},h(e.theme.img),{src:e.src,alt:e.alt,width:e.width,height:e.height})):(0,c.jsx)("svg",Object.assign({},h(e.theme.img),{width:e.width,height:e.height,ref:function(e){return t.dimensionElement=e}}))},n.renderNoscript=function(e){return this.state.isMounted?null:(0,c.jsx)("noscript",{children:(0,c.jsx)("img",Object.assign({},h(e.theme.img,e.theme.noscript),{src:e.nsSrc,srcSet:e.nsSrcSet,alt:e.alt,width:e.width,height:e.height}))})},n.render=function(){var e,t=this.props,n=t.placeholder,o=t.theme;return e=t.icon===p?{}:n.lqip?{backgroundImage:'url("'+n.lqip+'")'}:{backgroundColor:n.color},(0,c.jsxs)("div",Object.assign({},h(o.placeholder,e,t.style,t.className),{onClick:this.props.onClick,onKeyPress:this.props.onClick,ref:this.props.innerRef,children:[this.renderImage(t),this.renderNoscript(t),this.renderIcon(t)]}))},t}(i.PureComponent);b.defaultProps={iconColor:"#fff",iconSize:64};var S=function(){var e=this;this.signal={onabort:function(){}},this.abort=function(){return e.signal.onabort()}},y=function(e,t){if(!t)return e;var n=e.then(function(e){return e},function(e){return e});return n.cancel=function(){e.cancel(),t.cancel()},n},k=function(e){var t,n=new Promise(function(n){t=setTimeout(n,e)});return n.cancel=function(){clearTimeout(t),t=void 0},n},C=function(e){var t=new Image,n=new Promise(function(n,o){t.onload=n,t.onabort=t.onerror=function(){return o({})},t.src=e});return n.cancel=function(){if(!t)throw Error("Already canceled");t.onload=t.onabort=t.onerror=void 0,t.src="",t=void 0},n},x=function(e,t){var n=new S,o=n.signal,r=new Promise(function(n,r){var i;return(i=(i=Object.assign({},t,{signal:o}))||{},new Promise(function(t,n){var o=new XMLHttpRequest;for(var r in o.open(i.method||"get",e,!0),i.headers)o.setRequestHeader(r,i.headers[r]);o.withCredentials="include"===i.credentials,o.onload=function(){t(function e(){var t,n=[],r=[],i={};return o.getAllResponseHeaders().replace(/^(.*?):\s*?([\s\S]*?)$/gm,function(e,o,s){n.push(o=o.toLowerCase()),r.push([o,s]),t=i[o],i[o]=t?t+","+s:s}),{ok:(o.status/100|0)==2,status:o.status,statusText:o.statusText,url:o.responseURL,clone:e,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},headers:{keys:function(){return n},entries:function(){return r},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}}())},o.onerror=n,i.signal&&(i.signal.onabort=function(){o.onerror=o.onload=void 0,o.abort()}),o.send(i.body)})).then(function(t){t.ok?t.blob().then(function(){return C(e)}).then(n):r({status:t.status})},r)});return r.cancel=function(){if(!n)throw Error("Already canceled");n.abort(),n=void 0},r},E="undefined"==typeof window||"ReactSnap"===window.navigator.userAgent,L=!E&&!!window.navigator.connection,M=function(e,t){if(E)return 0;t||(t=window);var n,o=e.width,r=t.screen,i=r.width,s=r.height,a=document.documentElement,c=t.innerWidth||a.clientWidth,l=t.innerHeight||a.clientHeight,u=t.devicePixelRatio||1;if(i>c){var d=document.getElementsByTagName("body")[0],h=c-o;n=(d.clientHeight>l||d.clientHeight>s)&&h<=15?i-h:o/c*i}else n=o;return n*u},j=function(e){var t=["Bytes","KB","MB","GB","TB"];if(0===e)return"n/a";var n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return 0===n?e+" "+t[n]:(e/Math.pow(1024,n)).toFixed(1)+" "+t[n]},I=function(){if(E)return!1;var e=document.createElement("canvas");return!!(null!=e.getContext&&e.getContext("2d"))&&0===e.toDataURL("image/webp").indexOf("data:image/webp")}(),O=function(e){var t;return"webp"===e.format||(null==(t=e.src)?void 0:t.match(/\.webp($|\?.*)/i))},T=function(e){var t,n,o=e.srcSet,r=e.maxImageWidth,i=e.supportsWebp;if(0===o.length)throw Error("Need at least one item in srcSet");if(i)0===(t=o.filter(O)).length&&(t=o);else if(0===(t=o.filter(function(e){return!O(e)})).length)throw Error("Need at least one supported format item in srcSet");var s=t.filter(function(e){return e.width>=r});return 0===s.length?(s=t,n=Math.max.apply(null,s.map(function(e){return e.width}))):n=Math.min.apply(null,s.map(function(e){return e.width})),t.filter(function(e){return e.width===n})[0]},N=function(e){var t=e.srcSet,n=e.getUrl;if(!E)return{};var o=t.filter(function(e){return!O(e)}),r=o[0];return{nsSrcSet:o.map(function(e){return(n?n(e):e.src)+" "+e.width+"w"}).join(","),nsSrc:n?n(r):r.src,ssr:E}},z="initial",B=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=function(){var e=n.state,t=e.loadState,o=e.onLine,r=e.overThreshold;if(o)switch(t){case f:r&&n.cancel(!0);return;case p:return;case z:case g:n.load(!0);return;default:throw Error("Wrong state: "+t)}},n.load=function(e){var t=n.state,o=t.loadState,r=t.url;if(!E&&p!==o&&f!==o){n.loadStateChange(f,e);var i=n.props.threshold,s="xhr"===n.props.loader?x(r):C(r);if(s.then(function(){n.clear(),n.loadStateChange(p,!1)}).catch(function(e){n.clear(),404===e.status?n.loadStateChange(g,!1,404):n.loadStateChange(g,!1)}),i){var a=k(i);a.then(function(){n.loader&&(window.document.dispatchEvent(new CustomEvent("possiblySlowNetwork",{detail:{possiblySlowNetwork:!0}})),n.setState({overThreshold:!0}),n.state.userTriggered||n.cancel(!0))}),n.loader=y(s,a)}else n.loader=s}},n.onEnter=function(){if(!n.state.inViewport){n.setState({inViewport:!0});var e=T({srcSet:n.props.srcSet,maxImageWidth:n.props.srcSet.length>1?M(n.state.dimensions):0,supportsWebp:I}),t=n.props.getUrl,o=t?t(e):e.src,r=n.props.shouldAutoDownload(Object.assign({},n.state,{size:e.size}));n.setState({pickedSrc:e,shouldAutoDownload:r,url:o},function(){r&&n.load(!1)})}},n.onLeave=function(){n.state.loadState!==f||n.state.userTriggered||(n.setState({inViewport:!1}),n.cancel(!1))},n.state={loadState:z,connection:L?{downlink:navigator.connection.downlink,rtt:navigator.connection.rtt,effectiveType:navigator.connection.effectiveType}:null,onLine:!0,overThreshold:!1,inViewport:!1,userTriggered:!1,possiblySlowNetwork:!1},n}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;L?(this.updateConnection=function(){navigator.onLine&&e.state.loadState===z&&e.setState({connection:{effectiveType:navigator.connection.effectiveType,downlink:navigator.connection.downlink,rtt:navigator.connection.rtt}})},navigator.connection.addEventListener("onchange",this.updateConnection)):this.props.threshold&&(this.possiblySlowNetworkListener=function(t){if(e.state.loadState===z){var n=t.detail.possiblySlowNetwork;!e.state.possiblySlowNetwork&&n&&e.setState({possiblySlowNetwork:n})}},window.document.addEventListener("possiblySlowNetwork",this.possiblySlowNetworkListener)),this.updateOnlineStatus=function(){return e.setState({onLine:navigator.onLine})},this.updateOnlineStatus(),window.addEventListener("online",this.updateOnlineStatus),window.addEventListener("offline",this.updateOnlineStatus)},n.componentWillUnmount=function(){this.clear(),L?navigator.connection.removeEventListener("onchange",this.updateConnection):this.props.threshold&&window.document.removeEventListener("possiblySlowNetwork",this.possiblySlowNetworkListener),window.removeEventListener("online",this.updateOnlineStatus),window.removeEventListener("offline",this.updateOnlineStatus)},n.clear=function(){this.loader&&(this.loader.cancel(),this.loader=void 0)},n.cancel=function(e){f===this.state.loadState&&(this.clear(),this.loadStateChange(z,e))},n.loadStateChange=function(e,t,n){void 0===n&&(n=null),this.setState({loadState:e,overThreshold:!1,userTriggered:!!t,loadInfo:n})},n.render=function(){var e=this,t=this.props.getIcon(this.state),n=this.props.getMessage(t,this.state);return(0,c.jsx)(u,{onEnter:this.onEnter,onLeave:this.onLeave,children:(0,c.jsx)(b,Object.assign({},this.props,N(this.props),{onClick:this.onClick,icon:t,src:this.state.url||"",onDimensions:function(t){return e.setState({dimensions:t})},message:n}))})},t}(i.Component);B.defaultProps={shouldAutoDownload:function(e){var t=e.connection,n=e.size,o=e.threshold;if(e.possiblySlowNetwork)return!1;if(!t)return!0;var r=t.downlink,i=t.rtt;switch(t.effectiveType){case"slow-2g":case"2g":return!1;case"3g":if(r&&n&&o)return 8*n/(1e3*r)+i<o;return!1;default:return!0}},getMessage:function(e,t){switch(e){case m:case p:return null;case f:return"Loading...";case v:var n=t.pickedSrc.size;if(n)return["Click to load (",(0,c.jsx)("nobr",{children:j(n)},"nb"),")"];return"Click to load";case w:return"Your browser is offline. Image not loaded";case g:if(404===t.loadInfo)return"404. Image not found";return"Error. Click to reload";default:throw Error("Wrong icon: "+e)}},getIcon:function(e){var t=e.loadState,n=e.onLine,o=e.overThreshold,r=e.userTriggered;if(E)return m;switch(t){case p:return p;case f:return o?f:m;case z:if(!n)return w;var i=e.shouldAutoDownload;if(void 0===i)return m;return r||!i?v:m;case g:return n?g:w;default:throw Error("Wrong state: "+t)}},loader:"xhr"};let H=function(e){var t=e.size,n=void 0===t?24:t,o=e.fill,r=e.className,i=e.path;return(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",className:r,children:[(0,c.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{fill:void 0===o?"#000":o,d:i})]})},V=((o={})[v]=function(e){return(0,c.jsx)(H,Object.assign({},e,{path:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}))},o[f]=function(e){return(0,c.jsx)(H,Object.assign({},e,{path:"M6,2V8H6V8L10,12L6,16V16H6V22H18V16H18V16L14,12L18,8V8H18V2H6M16,16.5V20H8V16.5L12,12.5L16,16.5M12,11.5L8,7.5V4H16V7.5L12,11.5Z"}))},o[p]=null,o[g]=function(e){return(0,c.jsx)(H,Object.assign({},e,{path:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}))},o[m]=null,o[w]=function(e){return(0,c.jsx)(H,Object.assign({},e,{path:"M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z"}))},o),W={placeholder:{backgroundSize:"cover",backgroundRepeat:"no-repeat",position:"relative"},img:{width:"100%",height:"auto",maxWidth:"100%",marginBottom:"-4px"},icon:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},noscript:{position:"absolute",top:0,left:0}};var P=["icons","theme"];let A=function(e){var t=e.icons,n=e.theme,o=(0,r.Z)(e,P);return(0,c.jsx)(B,Object.assign({},o,{icons:void 0===t?V:t,theme:void 0===n?W:n}))};var R=["img"];function D(e,t){switch(e){case"noicon":case"loaded":return null;case"loading":return(0,s.I)({id:"theme.IdealImageMessage.loading",message:"Loading...",description:"When the full-scale image is loading"});case"load":var n=t.pickedSrc.size,o=n?" ("+function(e){var t=["B","KB","MB","GB","TB"];if(0===e)return"n/a";var n=Math.floor(Math.log(e)/Math.log(1024));return 0===n?e+" "+t[n]:(e/Math.pow(1024,n)).toFixed(1)+" "+t[n]}(n)+")":"";return(0,s.I)({id:"theme.IdealImageMessage.load",message:"Click to load{sizeMessage}",description:"To prompt users to load the full image. sizeMessage is a parenthesized size figure."},{sizeMessage:o});case"offline":return(0,s.I)({id:"theme.IdealImageMessage.offline",message:"Your browser is offline. Image not loaded",description:"When the user is viewing an offline document"});case"error":if(404===t.loadInfo)return(0,s.I)({id:"theme.IdealImageMessage.404error",message:"404. Image not found",description:"When the image is not found"});return(0,s.I)({id:"theme.IdealImageMessage.error",message:"Error. Click to reload",description:"When the image fails to load for unknown error"});default:throw Error("Wrong icon: "+e)}}function U(e){var t,n,o=e.img,i=(0,r.Z)(e,R);return"string"==typeof o||"default"in o?(0,c.jsx)("img",Object.assign({src:"string"==typeof o?o:o.default},i)):(0,c.jsx)(A,{height:null!=(t=o.src.height)?t:100,width:null!=(n=o.src.width)?n:100,placeholder:{lqip:o.preSrc},src:o.src.src,srcSet:o.src.images.map(function(e){return Object.assign({},e,{src:e.path})}),getMessage:D})}}}]);