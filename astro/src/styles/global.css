@import "tailwindcss";
@plugin "@tailwindcss/typography";

body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -2;
  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(205, 214, 220, 0.35), transparent 70%),
    radial-gradient(900px 500px at 90% 10%, rgba(186, 196, 204, 0.35), transparent 65%),
    linear-gradient(180deg, #f6f5f2 0%, #f3f2ef 55%, #ecebe7 100%);
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  opacity: 0.18;
  background-image: url("data:image/svg+xml,%3Csvg width='160' height='160' viewBox='0 0 160 160' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='0.6'/%3E%3C/svg%3E");
}

html[data-theme='dark'] body::before {
  background:
    radial-gradient(900px 500px at 20% -10%, rgba(60, 70, 80, 0.4), transparent 70%),
    radial-gradient(700px 400px at 90% 10%, rgba(45, 55, 65, 0.4), transparent 65%),
    linear-gradient(180deg, #0f1113 0%, #101418 55%, #0d0f12 100%);
}

html[data-theme='dark'] body::after {
  opacity: 0.12;
}

:root {
  --content-background: #f6f5f2;

  --lg-primary: #5f6f7a;
  --lg-secondary: #8a97a1;
  --lg-accent: #a6b4bf;
  --lg-highlight: #c2c8ce;

  --ifm-color-primary: #5f6f7a;
  --ifm-color-primary-dark: #54626c;
  --ifm-color-primary-darker: #4a5660;
  --ifm-color-primary-darkest: #3f4a53;
  --ifm-color-primary-light: #7b8993;
  --ifm-color-primary-lighter: #96a2ab;
  --ifm-color-primary-lightest: #b1bbc2;

  --ifm-code-font-size: 95%;
  --ifm-font-family-base: "MiSans", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  --ifm-heading-font-family: "Newsreader", "MiSans", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;

  --glass-bg: rgba(255, 255, 255, 0.68);
  --glass-border: rgba(96, 110, 122, 0.12);
  --glass-blur: 16px;

  --ifm-navbar-background-color: rgba(246, 245, 242, 0.9);
  --ifm-navbar-shadow: 0 18px 40px rgba(0, 0, 0, 0.08);

  --ifm-menu-color: #2f3a42;
  --ifm-text-color: #1f2933;
  --ifm-secondary-text-color: #5b6670;
  --ifm-border-color: rgba(90, 103, 115, 0.12);

  --blog-item-background-color: rgba(255, 255, 255, 0.72);
  --blog-item-shadow: 0 30px 60px rgba(34, 43, 50, 0.1);
  --blog-item-shade: rgba(245, 245, 242, 0.6);

  --docusaurus-highlighted-code-line-bg: rgba(120, 134, 145, 0.15);

  --lg-spacing-page-x: 1.5rem;
  --lg-spacing-page-y: 2rem;
  --lg-spacing-section: 4rem;
  --lg-spacing-card: 1.5rem;

  --lg-radius-sm: 0.5rem;
  --lg-radius-md: 0.75rem;
  --lg-radius-lg: 1rem;
  --lg-radius-xl: 1.5rem;

  --lg-transition-fast: 150ms ease;
  --lg-transition-normal: 200ms ease;
  --lg-transition-slow: 300ms ease;
}

html[data-theme='dark'] {
  --content-background: #0f1113;

  --ifm-color-primary: #9aa7b0;
  --ifm-color-primary-light: #b0bbc3;

  --glass-bg: rgba(15, 17, 19, 0.75);
  --glass-border: rgba(255, 255, 255, 0.08);

  --ifm-text-color: #f0f2f4;
  --ifm-secondary-text-color: #9aa7b0;
  --ifm-border-color: rgba(255, 255, 255, 0.1);

  --ifm-navbar-background-color: rgba(16, 18, 20, 0.8);
  --blog-item-background-color: rgba(16, 18, 20, 0.7);
  --blog-item-shadow: 0 30px 60px rgba(0, 0, 0, 0.4);
  --blog-item-shade: rgba(24, 26, 28, 0.7);

  --docusaurus-highlighted-code-line-bg: rgba(147, 156, 165, 0.2);
}

html,
body {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  font-family: "MiSans", system-ui, -apple-system, "PingFang SC", "Microsoft YaHei", sans-serif;
  background: var(--content-background);
  color: var(--ifm-text-color);
}

h1, h2, h3, h4, h5 {
  font-family: "Newsreader", "MiSans", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  letter-spacing: -0.01em;
}

.hero-title {
  font-family: "Newsreader", "MiSans", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  font-weight: 500;
  letter-spacing: -0.02em;
}

.float-slow {
  animation: floatSlow 18s ease-in-out infinite;
}

.float-medium {
  animation: floatSlow 12s ease-in-out infinite;
}

@keyframes floatSlow {
  0%, 100% { transform: translate3d(0, 0, 0); }
  50% { transform: translate3d(0, -10px, 0); }
}

@keyframes fadeRise {
  from { opacity: 0; transform: translate3d(0, 14px, 0); }
  to { opacity: 1; transform: translate3d(0, 0, 0); }
}

.reveal {
  animation: fadeRise 0.9s ease forwards;
}

.reveal-delay-1 { animation-delay: 0.15s; }
.reveal-delay-2 { animation-delay: 0.3s; }
.reveal-delay-3 { animation-delay: 0.45s; }

.editor-shell {
  border: 1px solid var(--ifm-border-color);
  border-radius: 0.75rem;
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  padding: 1rem;
}

.editor-content {
  min-height: 240px;
  outline: none;
}

.editor-content :where(p, h1, h2, h3, ul, ol) {
  margin-bottom: 0.75rem;
}

.editor-toolbar button {
  padding: 0.35rem 0.6rem;
  border-radius: 0.5rem;
  background: rgba(0, 0, 0, 0.04);
  font-size: 0.85rem;
}

a:hover {
  text-decoration: none;
}

.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  border: 1px solid var(--glass-border);
}

.glass-card {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  border: 1px solid var(--glass-border);
  border-radius: 0.75rem;
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
}

.button-pop {
  transition: transform var(--lg-transition-normal), box-shadow var(--lg-transition-normal), background var(--lg-transition-normal);
}

.button-pop:hover {
  transform: translateY(-2px);
  box-shadow: 0 18px 36px rgba(27, 36, 43, 0.18);
}

.button-pop:active {
  transform: translateY(-1px) scale(0.99);
}

.bg-blog {
  background: var(--blog-item-background-color);
}

.bg-blog-shade {
  background: var(--blog-item-shade);
}

@media (prefers-reduced-motion: reduce) {
  html,
  body {
    scroll-behavior: auto;
  }

  .float-slow,
  .float-medium,
  .reveal {
    animation: none !important;
  }
}
