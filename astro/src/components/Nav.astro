---
import ThemeToggle from '@/components/ThemeToggle'
const user = Astro.locals.user
const navItems = [
  { label: '博客', href: '/blog' },
  { label: '项目', href: '/project' },
  { label: '关于', href: '/about' },
  { label: '文档', href: '/docs' },
  { label: user ? '账号' : '登录', href: '/auth' },
  { label: '搜索', href: '/search' },
]
const moreItems = [
  { label: '归档', href: '/blog/archive' },
  { label: '留言箱', href: '/guestbook' },
  ...(user?.role === 'admin' ? [{ label: '后台', href: '/Liam/admin' }] : []),
]
---
<header class="sticky top-0 z-50 border-b border-black/5 bg-[var(--ifm-navbar-background-color)] backdrop-blur">
  <div class="mx-auto flex max-w-6xl items-center justify-between px-4 py-4">
    <a class="flex items-center gap-3 text-sm font-medium" href="/">
      <span class="grid h-9 w-9 place-items-center rounded-full bg-black/5 text-xs font-semibold text-slate-600">LW</span>
      <span class="tracking-wide text-slate-700">Liam Wang</span>
    </a>
    <nav class="flex items-center gap-5 text-[0.95rem] text-slate-600">
      {navItems.map((item) => (
        <a class="transition hover:text-slate-900" href={item.href}>
          {item.label}
        </a>
      ))}
      <div class="group relative">
        <button type="button" class="flex items-center gap-1 text-[0.95rem] transition group-hover:text-slate-900">
          更多
          <span class="text-xs">▾</span>
        </button>
        <div class="invisible absolute right-0 mt-2 w-40 rounded-lg border border-black/5 bg-white/90 p-2 text-sm opacity-0 shadow-xl backdrop-blur transition group-hover:visible group-hover:opacity-100">
          {moreItems.map((item) => (
            <a class="block rounded-md px-3 py-2 transition hover:bg-black/5" href={item.href}>
              {item.label}
            </a>
          ))}
        </div>
      </div>
      <ThemeToggle client:only="react" />
    </nav>
  </div>
</header>
